{"version":3,"sources":["webpack:///./src/views/addGoods.vue?3a75","webpack:///./src/views/addGoods.vue","webpack:///src/views/addGoods.vue","webpack:///./src/views/addGoods.vue?574b"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,sBAAsB;AAC1C,cAAc;AACd,KAAK;AACL;AACA;AACA;AACA,SAAS,SAAS,gBAAgB,EAAE;AACpC;AACA;AACA,0BAA0B,eAAe;AACzC,oBAAoB,yBAAyB;AAC7C;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,gBAAgB,EAAE;AACpC;AACA;AACA;AACA;AACA,4BAA4B,iBAAiB;AAC7C,sBAAsB,2BAA2B;AACjD;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA,0BAA0B,SAAS,kBAAkB,mBAAmB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,kBAAkB,EAAE;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA,4BAA4B,SAAS,6BAA6B,EAAE;AACpE;AACA;AACA;AACA,4BAA4B,SAAS,6BAA6B,EAAE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,gBAAgB,EAAE;AACpC;AACA;AACA;AACA;AACA,yBAAyB,yBAAyB;AAClD;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,kBAAkB,EAAE;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB,eAAe,oBAAoB,EAAE;AACtD;AACA;AACA,kCAAkC,mBAAmB;AACrD,4BAA4B;AAC5B,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,eAAe,qDAAqD,EAAE;AAC/E;AACA;AACA;AACA;AACA,sBAAsB,wCAAwC;AAC9D,mBAAmB;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,MAAM,oBAAoB,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACxLA;AAAA;AACA;AACA;AACA,wBAA+Q;AAC/Q;AACA;AACA;AACA;AACA;AACA;AACwK;AACxK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;;;;;;;;;ACMA;;;;;;;wBAEA;;iBAEA;kBACA;;eAEA;gBACA;gBAEA;AAJA;uBAKA;eACA;YAEA;AAXA;AAYA;;;0CAEA;qBACA;2BACA;4BACA;mCACA;iCACA;2BACA;;cAEA;eACA;kBACA;cACA;sBAEA;AANA;kBAOA;0DACA;oEACA;qCACA;yBACA;;mBAEA;kBAEA;AAHA;AAIA;AACA;aACA;yDACA;uEACA;sCACA;yBACA;;mBAEA;kBAEA;AAHA;AAIA;AACA;AACA;qBACA;wBACA;AACA;8BACA;wBACA;AACA;oEACA;mBACA;sCACA;iCACA;AACA;aACA;AACA;oEACA;6CACA;;eAEA;iCAEA;AAHA;AAIA;wDACA;6CACA;AACA;wDACA;;eAEA;8CAEA;AAHA;AAIA;gDACA;;eAEA;qCAEA;AAHA;AAIA;6DACA;;eAEA;sCAEA;AAHA;AAKA;AA/EA;oCAgFA;kDACA;iBACA;uEACA;gCACA;iCACA;sCACA;qCACA;AACA;AACA;AAxGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpDA,yC","file":"0.chunk.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"Form\",\n    {\n      staticStyle: { padding: \"15px 20%\" },\n      attrs: { \"label-position\": \"left\", \"label-width\": 100 }\n    },\n    [\n      _c(\n        \"FormItem\",\n        { attrs: { label: \"商品名称\" } },\n        [\n          _c(\"i-input\", {\n            staticStyle: { width: \"30%\" },\n            attrs: { placeholder: \"请输入商品名称\" },\n            model: {\n              value: _vm.goodsName,\n              callback: function($$v) {\n                _vm.goodsName = $$v\n              },\n              expression: \"goodsName\"\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"FormItem\",\n        { attrs: { label: \"商品价格\" } },\n        [\n          _c(\n            \"i-input\",\n            {\n              staticStyle: { width: \"160px\" },\n              attrs: { placeholder: \"接受到小数点后两位\" },\n              model: {\n                value: _vm.goodsPrice,\n                callback: function($$v) {\n                  _vm.goodsPrice = $$v\n                },\n                expression: \"goodsPrice\"\n              }\n            },\n            [\n              _c(\"span\", { attrs: { slot: \"prepend\" }, slot: \"prepend\" }, [\n                _vm._v(\"￥\")\n              ])\n            ]\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"FormItem\",\n        { attrs: { label: \"选择商品类别\" } },\n        [\n          _c(\n            \"Select\",\n            {\n              model: {\n                value: _vm.selector.value,\n                callback: function($$v) {\n                  _vm.$set(_vm.selector, \"value\", $$v)\n                },\n                expression: \"selector.value\"\n              }\n            },\n            [\n              _c(\"Option\", { attrs: { value: _vm.selector.value1 } }, [\n                _vm._v(\"化妆品\")\n              ]),\n              _vm._v(\" \"),\n              _c(\"Option\", { attrs: { value: _vm.selector.value2 } }, [\n                _vm._v(\"服装\")\n              ])\n            ],\n            1\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"FormItem\",\n        { attrs: { label: \"商品介绍\" } },\n        [\n          _c(\"i-input\", {\n            attrs: {\n              type: \"textarea\",\n              autosize: { minRows: 2, maxRows: 5 },\n              placeholder: \"只接受文本信息\"\n            },\n            model: {\n              value: _vm.goodsInfomation,\n              callback: function($$v) {\n                _vm.goodsInfomation = $$v\n              },\n              expression: \"goodsInfomation\"\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"FormItem\",\n        { attrs: { label: \"选择商品图片\" } },\n        [\n          _c(\n            \"Upload\",\n            {\n              attrs: {\n                type: \"drag\",\n                action: \"http://localhost:7001/upload\",\n                format: [\"jpg\", \"jpeg\", \"png\"],\n                \"max-size\": 5120,\n                \"on-success\": _vm.handleSuccess,\n                \"on-remove\": _vm.handleRemove,\n                \"on-format-error\": _vm.handleFormatError,\n                \"on-exceeded-size\": _vm.handleMaxSize,\n                \"on-error\": _vm.handleError\n              }\n            },\n            [\n              _c(\n                \"div\",\n                { staticStyle: { padding: \"20px 0\" } },\n                [\n                  _c(\"Icon\", {\n                    staticStyle: { color: \"#3399ff\" },\n                    attrs: { type: \"ios-cloud-upload\", size: \"52\" }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"p\", [_vm._v(\"Click or drag files here to upload\")]),\n                  _vm._v(\" \"),\n                  _c(\"p\", [_vm._v(\"注：编辑商品时需要重新上传图片\")])\n                ],\n                1\n              )\n            ]\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticStyle: { display: \"flex\", \"justify-content\": \"space-around\" } },\n        [\n          _c(\n            \"Button\",\n            {\n              attrs: { type: \"primary\", loading: _vm.loading },\n              on: { click: _vm.toLoading }\n            },\n            [\n              !_vm.loading\n                ? _c(\"span\", [_vm._v(\"提交\")])\n                : _c(\"span\", [_vm._v(\"Loading...\")])\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\"Button\", { on: { click: _vm.cancel } }, [_vm._v(\"取消\")])\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-edeb4b2e\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-edeb4b2e\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/iview-loader??ref--0-1!./src/views/addGoods.vue\n// module id = 100\n// module chunks = 0","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-edeb4b2e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!autoprefixer-loader!less-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!../../node_modules/iview-loader/index.js??ref--0-1!./addGoods.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--0-1!./addGoods.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--0-1!./addGoods.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-edeb4b2e\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!../../node_modules/iview-loader/index.js??ref--0-1!./addGoods.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src\\\\views\\\\addGoods.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-edeb4b2e\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-edeb4b2e\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addGoods.vue\n// module id = 32\n// module chunks = 0","<template>\n    <Form label-position=\"left\" :label-width=\"100\" style=\"padding: 15px 20%;\">\n        <FormItem label=\"商品名称\">\n            <i-input v-model=\"goodsName\" placeholder=\"请输入商品名称\" style=\"width: 30%\"></i-input>\n        </FormItem>\n        <FormItem label=\"商品价格\">\n            <i-input v-model=\"goodsPrice\" placeholder=\"接受到小数点后两位\" style=\"width: 160px\">\n              <span slot=\"prepend\">￥</span>\n            </i-input>\n        </FormItem>\n        <FormItem label=\"选择商品类别\">\n            <Select v-model=\"selector.value\">\n                <Option :value=\"selector.value1\">化妆品</Option>\n                <Option :value=\"selector.value2\">服装</Option>\n            </Select>\n        </FormItem>\n        <FormItem label=\"商品介绍\">\n            <i-input v-model=\"goodsInfomation\"  type=\"textarea\" :autosize=\"{minRows: 2,maxRows: 5}\" placeholder=\"只接受文本信息\"></i-input>\n        </FormItem>\n        <FormItem label=\"选择商品图片\">\n            <Upload\n                type=\"drag\"\n                action=\"http://localhost:7001/upload\"\n                :format=\"['jpg','jpeg','png']\"\n                :max-size=\"5120\"\n                :on-success=\"handleSuccess\"\n                :on-remove=\"handleRemove\"\n                :on-format-error=\"handleFormatError\"\n                :on-exceeded-size=\"handleMaxSize\"\n                :on-error=\"handleError\">\n                <div style=\"padding: 20px 0\">\n                    <Icon type=\"ios-cloud-upload\" size=\"52\" style=\"color: #3399ff\"></Icon>\n                    <p>Click or drag files here to upload</p>\n                    <p>注：编辑商品时需要重新上传图片</p>\n                </div>\n            </Upload>\n        </FormItem>\n        <div style=\"display: flex;justify-content: space-around;\">\n          <Button type=\"primary\" :loading=\"loading\" @click=\"toLoading\">\n              <span v-if=\"!loading\">提交</span>\n              <span v-else>Loading...</span>\n          </Button>\n          <Button @click=\"cancel\">取消</Button>\n        </div>\n    </Form>\n</template>\n<style>\n</style>\n\n<script>\nimport util from '../libs/util.js';\nexport default {\n  data() {\n    return {\n      goodsName: '',\n      goodsPrice: '',\n      selector: {\n        value: '',\n        value1: '化妆品',\n        value2: '服装',\n      },\n      goodsInfomation: '',\n      loading: false,\n      imgs: []\n    }\n  },\n  methods: {\n    async toLoading() {\n      this.loading = true;\n      const goodsName = this.goodsName;\n      const goodsPrice = this.goodsPrice;\n      const catagory = this.selector.value;\n      const goodsInfomation = this.goodsInfomation;\n      const goodsImgs = this.imgs;\n      const objToTrans = {\n        name: goodsName,\n        price: goodsPrice,\n        catagory: catagory,\n        imgs: goodsImgs,\n        introduction: goodsInfomation\n      };\n      console.log(objToTrans);\n      if (this.$router.currentRoute.path === '/addGoods') {\n        const response = await util.ajax.post('/saveGoods', objToTrans);\n        if (response.status !== 200) {\n          this.loading = false;\n          this.$Notice.error({\n            title: '上传失败',\n            desc: '请检查网络，如网络无问题请联系管理员'\n          })\n          return;\n        }\n      } else {\n        objToTrans._id = this.$router.currentRoute.query.id;\n        const response = await util.ajax.post('/updateGoods', objToTrans);\n        if (response.status !== 200) {\n          this.loading = false;\n          this.$Notice.error({\n            title: '上传失败',\n            desc: '请检查网络，如网络无问题请联系管理员'\n          })\n          return;\n        }\n      }\n      this.loading = false;\n      this.$router.push('/');\n    },\n    cancel() {\n      this.$router.push('/')\n    },\n    getResponseOfFileList(fileList) {\n      let imgArr = [];\n      fileList.forEach(val => {\n        imgArr.push(val.response.img);\n      })\n      return imgArr;\n    },\n    handleSuccess(response, file, fileList) {\n      this.imgs = this.getResponseOfFileList(fileList);\n      this.$Notice.success({\n        title: '文件上传成功',\n        desc: '文件' + file.name + '已上传至服务器'\n      })\n    },\n    handleRemove(file, fileList) {\n      this.imgs = this.getResponseOfFileList(fileList);\n    },\n    handleFormatError(file) {\n      this.$Notice.warning({\n          title: '文件格式不支持',\n          desc: 'File format of ' + file.name + ' is incorrect, please select jpg or png.'\n      });\n    },\n    handleMaxSize(file) {\n      this.$Notice.warning({\n          title: '文件过大',\n          desc: 'File  ' + file.name + ' is too large, no more than 5M.'\n      });\n    },\n    handleError(error, file, fileList) {\n      this.$Notice.error({\n        title: '文件上传失败',\n        desc: 'File upload error: ' + error\n      })\n    }\n  },\n  async mounted() {\n    const mongoID = this.$router.currentRoute.query.id;\n    if (mongoID) {\n      const res = await util.ajax.post('/findGoodsById', { id: mongoID });\n      this.goodsName = res.data.name;\n      this.goodsPrice = res.data.price;\n      this.goodsInfomation = res.data.introduction;\n      this.selector.value = res.data.catagory;\n    }\n  }\n}\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/addGoods.vue","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-edeb4b2e\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/autoprefixer-loader!./node_modules/less-loader/dist/cjs.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./node_modules/iview-loader??ref--0-1!./src/views/addGoods.vue\n// module id = 99\n// module chunks = 0"],"sourceRoot":""}